<?php

/*
CHANGELOG
*/

/**
 *
 * @category        tool
 * @package         Outputfilter Dashboard
 * @version         1.04.00
 * @authors         Thomas "thorn" Hornik <thorn@nettest.thekk.de>, Christian M. Stefan (Stefek) <stefek@designthings.de>, Martin Hecht (mrbaseman) <mrbaseman@gmx.de>
 * @copyright       2009,2010 Thomas "thorn" Hornik, 2010 Christian M. Stefan (Stefek), 2016 Martin Hecht (mrbaseman)
 * @link            https://github.com/WebsiteBaker-modules/outpufilter_dashboard
 * @license         GNU General Public License, Version 3
 * @platform        WebsiteBaker 2.8.x
 * @requirements    PHP 5.4 and higher
 * 
 * This file is part of OutputFilter-Dashboard, a module for Website Baker CMS.
 * 
 * OutputFilter-Dashboard is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * OutputFilter-Dashboard is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with OutputFilter-Dashboard. If not, see <http://www.gnu.org/licenses/>.
 * 
 **/

/*
Header: Version-History

1.4:        - this is a major re-engineering of the module with the goal to use it without PMF. All references to PMF removed.
1.4.0 %(mrbaseman, 26 Jan 2016)%
        - removed dependencies from pmf
        - use phplib templates and usual language files instead of the solutions of PMF
        - removed cache functions which are disabled by default and for practical use anyway
        - switched from tokens to ftan support
        - update documentation (current patches and removed references to PMF from the documentation as well)

1.3:
1.3.4  %(thorn, 07 Aug 2010)%
        - fixed a issue with the CSS-Editor: it may loss all data on save under special circumstances.
        - fixed wrong usage of pmf_fetch_clean() after pmf has changed order of parameters in this function.
        - fixed docu about Simple HTML Dom Parser
        - added function opf_register_document_ready() to use jQuery's $(document).ready() to register JS in page's <head> section.
        - changed opf_insert_frontend_files() to add additional JS before the closing </head> instead directly after <head>.



2010-08-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        Released as 1.3.4

2010-08-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed a issue with the CSS-Editor: it may loss all data on save under special circumstances.

2010-08-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed wrong usage of pmf_fetch_clean() after pmf has changed order of parameters in this function.

2010-08-05  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed docu about Simple HTML Dom Parser

2010-07-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        -added function opf_register_document_ready() to use jQuery's $(document).ready() to register JS in page's <head> section.
        -changed opf_insert_frontend_files() to add additional JS before the closing </head> instead directly after <head>.

2010-07-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        minor changes to precheck.php before release

1.3.3  %(thorn, 31 Jul 2010)%
        - require pmf 0.9.5
        - Check versions of plugin-filter during upload, do not allow to overwrite newer versions by older ones.
        - added documentation for usage of PHP Simple HTML DOM Parser
        - documentation updated.
        - minor issues fixed.


2010-07-30  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - release 1.3.3
        - added documentation about PHP Simple HTML DOM Parser

2010-07-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        check version of plugin-filter, do not allow to overwriter newer versions by older ones

2010-07-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added documentation

2010-07-27  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        removed forgotten debug text

2010-07-27  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed wrong link in german documentation

2010-07-25  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        released as 1.3.2

1.3.2 %(thorn, 25 Jul 2010)%
        - Plugin-Filters can have it's own plugin_uninstall.php now.
        - additional_fields: added "label" as alias for "text" (the text used as label),
           and allow usage of an array for different languages.

2010-07-25  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        plugin-filters can now have it's own plugin_uninstall.php file.

2010-07-25  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated documentation

2010-07-25  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        some changes to additional_fields

1.3.1 %(thorn, stefek; 23 Jul 2010)%
        - first public beta of this new version.

2010-07-23  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        Made module ready for release - many changes to code and documentation.

2010-07-17  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated documentation

2010-07-04  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        Display a warning in case the patch to wb's core-files is not applied

2010-07-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added latest changed from stefek.

2010-07-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        removed file debug_conf.php
        docu regenerated

2010-05-15  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated opf to match recent changes to pmf

2010-05-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed opf to match latest version from pmf

2010-05-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed some issues from last revno

2010-04-20  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated helper-scripts to match latest pmf

2010-04-19  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - use temp directory in wb/media/opf_plugins instead of /wb/temp/
        - prevent old links to be re-activated using the browser's back-button
        - updated docu

2010-04-19  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated to match latest version of pmf
        - updated documentation
        - moved function pmf_fetch_entry_language() to opf_fetch_entry_language()
        - fixed uninstall.php


1.3.0 %(thorn, stefek; 09 Apr 2010)%
        - renamed module "outputfilter-dashboard", bumped version to 1.3.0
        - many additions
        - new layout/design by stefek
        - prevent inline-filters from overwriting other filters
        - changed name from Frontend-Filter to OutputFilter Dashboard (aka opf-dashboard, aka opf)
        - added plugin-filters and filter-upload
        - added export of installed filters
        - usage of pmf's caching-system for filter and page data
        - usage of "practical module functions" (pmf)
        - usage of jquery

2010-04-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - prevent inline-filters from overwriting existing filters
        - updated documentation

2010-04-05  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        improved security

2010-03-27  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added missing index.php files

2010-03-27  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed some small issues

2010-03-21  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated opf to match latest version of pmf

2010-03-20  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated documentation

2010-03-14  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added NL language-file. removed old entries from DE language-file.

2010-03-13  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed naturaldocs to allow creation of different docu for users/developers

2010-03-11  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added settings-table as example how to use pmf's settings-handling

2010-02-28  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added recent updates from stefek

2010-02-28  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated path to documentation

2010-02-28  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated documentation
        split documenation into user and developer documentation

2010-02-14  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        corrected wrong text in template

2010-02-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed various wrong usage of {{- instead of {{=

2010-02-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated documentation

2010-02-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added function opf_controller() to simplify core-replacements

2010-02-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated update_languages.php

2010-02-07  root  <root@xen>

        added help-button to templates/add_edit.htt

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        reverted and fixed changes from revno 69

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added text for filter-function

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added latest changes from stefek

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        moved code form dialog/jquery.dialog.js back to backend_body.js

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        removed function opf_get_desc(), replaced by pmf_fetch_entry_language()

2010-02-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added field "helppath" to register_filter(), to allow a helpfile for each filter:
        opf_register_filter(array(
        'name' => ...
        ...
        'helppath' => array(
        'EN'=>WB_URL.'/modules/outputfilter_dashboard/plugins/name/help_en.html',
        'DE'=>WB_URL.'/modules/outputfilter_dashboard/plugins/name/help_de.html'
        ),
        ...
        );

2010-02-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed upload.php to check against plugin_info.php

2010-01-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed upload.php to use pmf_upload_check()

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        Added latest CSS-update from stefek. Updated docu

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed link for documentation back to language-dependant target

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed bug from revno 57

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        plugin-filter have to use plugin_info.php instead of info.php

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added precheck.php

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed update_languages.php to sort list of files, to keep entries in language-files in same order

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        changed templates to convert quotes to entities in all variables

2010-01-24  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        forced install-file to use MyISAM as DB-engine

2010-01-20  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added pmf_init()-calls to all functions

2010-01-19  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added argument media to opf_register_frontend_files()

2010-01-17  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed issues with template and opf_register_frontend_files()

2010-01-17  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed issue introduced by revno 51

2010-01-17  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated docu

2010-01-16  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed issue: prevent export and delete to be launched by reload

2010-01-15  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated scripts to latest versions from pmf

2010-01-15  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed issue introduced by revno 40

2010-01-15  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - changed function opf_register_frontend_files() to allow to put scripts in head or body.
        - updated docu

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - renamed Filter-Types to Module, Module (last), Page, Page (last)
        - rearranged tool.htt
        - added language strings
        - added copyright-string to DE_pmf.php

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated backend.css with latest version from stefek

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated update_languages.php from latest pmf

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated language-file (missing in last changeset)

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated Documentation (partly)

2010-01-09  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added latest changes from Christan Stefan

2010-01-08  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated backend_body.js to use minified js, rearranged file

2010-01-08  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed serious issue: pressing reload-button will redo last action

2010-01-08  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed various issues

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed pmf_init() handling

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed type from last revision

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added latest additions from Christian Stefan: layout-changes and new dialog code.
        - updated code to work with new dialog.

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed some issues with export-script

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed page-select issue with new filters

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated language-file

2010-01-07  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        removed second pages-tree. Put pages- and pages_parent-tree into a single tree

2010-01-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        cleanup

2010-01-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed various issues in export.php

2010-01-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        updated update_languages.php to newest version

2010-01-06  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added export function

2010-01-05  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added latest layout changes from stefek

2010-01-05  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added calles to pmf_tpl_destroy()

2010-01-04  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added code to display message from plugin-upload

2010-01-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        call to pmf_io_rmdir() added

2010-01-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added upload of plugin-filter. Needs some CSS-styling

2010-01-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        more cleanup in css.htt

2010-01-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated template css.htt. Special template form <!--{{-->...<!--}}--> was removed from pmf.

2010-01-03  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added code for "save" and "save and exit"-buttons

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        Added pmf_t() to some strings. Updated DE language-file

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added design from stefek. Applied minor changes

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - converted some images to 8bit

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated css-editor-view to work with backend_body.js

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        removed unused type from additional_fields (representation of an array in a textarea)

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated documentation

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        added filter for testing additional_fields

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed issues with additional_fields

2010-01-02  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        fixed .bztignore. Added missing files.

2009-12-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - added missing "<?php" to filter in install.php

2009-12-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated docu

2009-12-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - fixed opf_set_active(): mark cache obsolete
        - updated debug_conf.php

2009-12-31  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - fixed many issues with quoted/unquoted html in output

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - fixed tool-template to mark last added/edited filter in overview

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated install.php/uninstall.php to register/unregister the module for use with pmf.

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - changed link to docu. 

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - updated docu

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - removed old language-file
        - clean-up
        - fixed a bug in opf_register_filter()

2009-12-29  Thomas thorn Hornik  <thorn@nettest.thekk.de>

        - initial import



1.2:
1.2.2 %(thorn; 15 Nov 2009)%
        - added new (english/german) documentation, removed old (german) one
        - Store filter and page data in SESSION
        - updated for use with WB2.8
        - added module-category "form" for form,formx,mpform
        - removed "Searchresult Highlighting" filter

[some entries missing]

1.1:
1.1.0 %(thorn; 12 Jan, 2009)%
        - opf_register_filter(): added 'additional_fields' and 'additional_fields_languages', to add additional config fields.
          For Filters without own backend, which needs few config-elements.
          Supported Field-Tags: "text", "textarea", "editarea", "select" (no multi-select) "radio", "checkbox".
          Additional Field-Tags: "array", will convert arrays (simple arrays only) into pairs of text-fields.
          "textarea" and "editarea" supports arrays (simple arrays only) [not recommended]

1.0:
1.0.7 %(thorn; 09 Jan, 2009)%
        - opf_register_frontend_files(): added parameter iehack.
          To add an IE-conditional e.g. '[if lt IE 7]', which will add <!--[if lt IE 7]><script ...></script><![endif]-->

1.0.6 %(thorn; 02 Jan, 2009)%
        - fixed some issue with allowedit and EditArea.

1.0.5 %(thorn; 31 Dec, 2008)%
        - added missing braces in opf_unregister_filter()
        - changed "css editor" to use EditArea-Editor, too.

1.0.4 %(thorn; 30 Dec, 2008)%
        - changed "add filter" and "edit filter" to use the new EditArea-Editor, if available.

1.0.3 %(thorn; 29 Dec, 2008)%
        - added missig $wb in "Add filter" function-template
        - CSS-Editor may fail on some servers, due to disabled escapeshellcmd()-function. Fixed.

1.0.2 %(thorn; 27 Dec, 2008)%
        - undo one fix from 1.00.01.
        - fixed an issue with mangeled description (missing unserialize()-call in opf_save()).

1.0.1 %(thorn; 27 Dec, 2008)%
        - fixed two "call-time pass-by-reference"-issues. Thanks to Ralf(Berlin) to point this out.

1.0.0 %(thorn; 26 Dec, 2008)%
        - initial version



*/
